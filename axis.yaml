#
# OPTIONS:
# -----------------------
#
# AXIS_IP       [string]
# AXIS_HOSTNAME [string]
# AXIS_GROUP    [string]
# AXIS_NODES    [array::string]

etcd:
  endpoints:
    - http://127.0.0.1:2379
    - http://127.0.0.1:4001

daemon:
  prefix: /develope.network/services
  name: rethinkdb
  leader:
    entrypoint: rethinkdb
    command:
      - "--canonical-address"
      - "{{.AXIS_IP}}"
      - "--directory"
      - "/data"
      - |
          {{range .AXIS_NODES}}
          --join {{.}}:29015
          {{end}}
      - "--bind"
      - "all"
    health:
      port:
        - 28015
  worker:
    entrypoint: rethinkdb
    command:
      - "--canonical-address"
      - "{{.AXIS_IP}}"
      - "--directory"
      - "/data"
      - |
          {{range .AXIS_NODES}}
          --join {{.}}:29015
          {{end}}
      - "--bind"
      - "all"
